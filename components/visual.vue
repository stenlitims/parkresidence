<template>
  <div>
    <div class="visual" @mousemove="setTooltipCord" :class="{'a360': v360, 'noanim': !maskAnim}">
      <div
        class="visual-wrap"
        @mousedown="mousedown"
        @touchstart="mousedown"
        @mouseup="mouseup"
        @touchend="mouseup"
        @mousemove="mousemove"
        @touchmove="mousemove"
        @mousewheel="mousemove"
      >
        <div class="list360" :class="{'active': v360}" v-if="imgLoad">
          <div
            class="item"
            v-for="item in 24"
            :key="item"
            :class="{'active': item == activeSlide}"
            :data-index="item"
          >
            <picture>
              <source
                :srcset="$store.state.mainUrl+'assets/images/'+dir+'/'+item+'.webp'"
                type="image/webp"
              >
              <source
                :srcset="$store.state.mainUrl+'assets/images/'+dir+'/'+item+'.jpg'"
                type="image/jpeg"
              >
              <img
                :src="$store.state.mainUrl+'assets/images/'+dir+'/'+item+'.jpg'"
                :ref="'img'+item"
                alt
                class
              >
            </picture>
          </div>
        </div>
        <div class="v-plan genplan" v-if="type == 'genplan'">
          <!-- Ракурс 1 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 15}">
            <div class="lb active" style="left: 30.5%;top: 58.5%;">
              <div class="t">{{$t('main["Дом"]')}} 1</div>
              <span>IV кв 2020</span>
            </div>
            <div class="lb" style="left: 21.5%;top: 29.5%;">
              <div class="t">{{$t('main["Дом"]')}} 2</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 58.5%;top: 45.5%;">
              <div class="t">{{$t('main["Дом"]')}} 3</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 45.5%;top: 18.5%;">
              <div class="t">{{$t('main["Дом"]')}} 4</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 75.5%;top: 36.5%;">
              <div class="t">{{$t('main["Дом"]')}} 6</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 61.5%;top: 12.5%;">
              <div class="t">{{$t('main["Дом"]')}} 5</div>
              <span>Скоро</span>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/genplan.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/genplan.jpg'"
                  type="image/jpeg"
                >
                <img
                  :src="$store.state.mainUrl+'assets/images/genplan/genplan.jpg'"
                  ref="mainImg"
                  alt
                >
              </picture>
            </div>
            <svg viewBox="0 0 1901.86 1182.46" style="top: 6%;left: 16%;height: 82%;">
              <polygon
                @click="link('genplan/1')"
                @mouseover="setTooltip(true, 'genplan', 1)"
                @mouseout="setTooltip(false, 'genplan', 1)"
                class="active"
                points="232.51 919.18 204.51 865.18 176.51 705.85 183.84 693.85 440.51 611.85 503.17 592.52 514.51 605.85 588.51 617.85 609.17 682.52 624.51 672.52 651.84 715.18 653.17 744.52 727.84 820.52 751.17 902.52 755.17 1055.18 343.17 1181.85 305.17 1082.52 284.51 950.52 290.51 948.52 507.17 880.52 515.17 853.18 511.84 844.52 232.51 919.18"
              ></polygon>

              <!-- <polygon
              points="1397.17 638.52 1412.51 683.18 1389.84 835.18 1041.17 946.52 840.51 670.52 839.17 523.18 861.84 511.85 1199.84 415.18 1223.17 480.52 1212.51 625.85 1109.84 655.85 1125.17 677.85 1231.17 656.52 1235.17 627.85 1313.84 606.52 1329.17 619.85 1377.84 603.18 1397.17 638.52"
            ></polygon>
            <polygon
              points="52.51 490.52 30.51 444.52 0.51 303.85 3.17 283.18 284.51 219.85 294.51 223.85 344.51 216.52 359.84 260.52 384.51 308.52 397.17 305.18 415.84 339.18 419.17 362.52 448.51 379.85 464.51 437.18 479.17 583.85 130.51 681.85 99.17 599.85 75.17 479.85 52.51 490.52"
            ></polygon>
            <polygon
              points="907.17 149.85 887.17 85.18 586.51 161.85 574.51 181.85 581.17 281.85 719.17 520.52 1034.51 441.18 1039.84 291.85 1022.51 225.85 904.51 236.52 907.17 149.85"
            ></polygon>
            <polygon
              points="1365.34 578.02 1311.34 546.52 1330.84 388.52 1364.84 371.52 1660.34 291.02 1700.34 329.02 1724.84 356.52 1763.84 389.52 1808.34 416.02 1881.34 467.52 1901.34 534.52 1863.34 673.52 1561.34 774.02 1494.84 711.52 1519.84 573.02 1554.34 547.02 1576.84 541.52 1581.84 523.52 1587.84 519.02 1365.34 578.02"
            ></polygon>
            <polygon
              points="1004.84 205.52 1009.34 73.02 1020.84 62.02 1021.34 42.52 1050.84 46.02 1161.34 24.52 1169.34 12.52 1237.84 5.02 1295.34 0.52 1326.34 30.02 1347.34 59.02 1376.84 74.02 1406.34 91.52 1458.34 128.02 1473.84 176.02 1451.34 323.52 1180.84 407.52 1136.84 343.02 1147.34 204.52 1138.84 217.02 1044.84 242.02 1004.84 205.52"
              ></polygon>-->
            </svg>
          </div>
          <!-- Ракурс 2 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 19}" v-if="imgLoad">
            <div class="lb active" style="left: 21.5%;top: 26.5%;">
              <div class="t">{{$t('main["Дом"]')}} 1</div>
              <span>IV кв 2020</span>
            </div>
            <div class="lb" style="left: 39.5%; top: 8.5%;">
              <div class="t">{{$t('main["Дом"]')}} 2</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 39.5%;top: 45.5%;">
              <div class="t">{{$t('main["Дом"]')}} 3</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 58.5%;top: 23.5%;">
              <div class="t">{{$t('main["Дом"]')}} 4</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 75.5%;top: 36.5%;">
              <div class="t">{{$t('main["Дом"]')}} 5</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 56.5%;top: 62.5%;">
              <div class="t">{{$t('main["Дом"]')}} 6</div>
              <span>Скоро</span>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/21.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/19.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/genplan/19.jpg'">
              </picture>
            </div>
            <svg viewBox="0 0 1910.39 1296.07" style="left: 14.4%;top: 4.5%;height: 90%;">
              <polygon
                @click="link('genplan/1')"
                @mouseover="setTooltip(true, 'genplan', 1)"
                @mouseout="setTooltip(false, 'genplan', 1)"
                class="active"
                points="0.53 405.45 36.37 565.62 249.87 685.62 559.87 501.12 548.87 361.62 525.87 348.62 513.37 318.62 353.37 234.62 323.37 240.12 283.87 221.62 249.37 283.12 265.87 397.12 275.37 401.62 274.87 410.12 246.87 424.62 241.87 412.62 205.37 428.12 150.37 396.62 145.87 379.62 101.86 355.12 73.36 363.62 36.87 344.12 0.53 405.45"
              ></polygon>
              <!-- <polygon
        points="513.87 151.62 526.37 297.12 731.87 395.62 988.87 242.62 990.87 120.62 954.87 92.12 953.37 80.12 742.37 0.62 711.87 53.12 717.37 154.62 713.87 164.12 639.87 129.12 612.37 110.62 600.87 119.12 542.87 94.12 513.87 151.62" />
    <polygon
        points="785.2 921.45 712.53 976.78 433.2 804.12 417.2 663.45 449.87 599.45 478.53 608.12 479.87 594.78 712.53 444.12 759.87 468.78 784.53 454.78 996.53 572.12 996.53 589.45 1022.53 603.45 1016.53 766.12 953.2 794.12 747.87 688.12 714.53 716.78 725.2 716.12 731.87 744.12 779.87 776.78 785.2 921.45" />
    <polygon
        points="1425.2 434.78 1443.87 298.78 1425.87 269.45 1212.53 184.12 1202.53 189.45 1153.87 170.78 958.53 292.78 929.87 342.78 931.2 488.12 1191.2 628.12 1248.53 569.45 1263.2 426.12 1249.2 414.12 1375.2 469.45 1425.2 434.78" />
    <polygon
        points="1110.53 731.45 1145.87 665.45 1203.2 691.45 1225.87 674.12 1470.53 805.45 1466.53 832.78 1519.2 859.45 1494.53 1020.12 1207.87 1295.45 866.53 1094.78 861.87 926.12 905.87 852.12 960.53 880.78 983.2 864.12 1057.2 907.45 1059.87 938.12 1167.87 985.45 1228.53 947.45 1114.53 896.78 1099.2 871.45 1104.53 738.78 1110.53 731.45" />
    <polygon
              points="1355.87 544.12 1392.53 475.45 1440.53 496.78 1451.2 486.12 1511.87 513.45 1521.2 530.78 1539.87 400.12 1574.53 332.78 1865.87 446.78 1861.87 458.78 1899.2 475.45 1909.87 498.12 1880.53 618.12 1663.2 853.45 1337.2 690.78 1355.87 544.12" />-->
            </svg>
          </div>
          <!-- Ракурс 3 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 23}" v-if="imgLoad">
            <div class="lb active" style="left: 37%;top: 10.5%;">
              <div class="t">{{$t('main["Дом"]')}} 1</div>
              <span>IV кв 2020</span>
            </div>
            <div class="lb" style="left: 60.5%;top: 12.5%;">
              <div class="t">{{$t('main["Дом"]')}} 2</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 33.5%;top: 34.5%;">
              <div class="t">{{$t('main["Дом"]')}} 3</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 60%;top: 36.5%;">
              <div class="t">{{$t('main["Дом"]')}} 4</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 28.5%;top: 53.5%;">
              <div class="t">{{$t('main["Дом"]')}} 5</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 59.5%;top: 56.5%;">
              <div class="t">{{$t('main["Дом"]')}} 6</div>
              <span>Скоро</span>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/1.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/23.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/genplan/23.jpg'">
              </picture>
            </div>
            <svg viewBox="0 0 1355.94 1082.49" style="left: 20.2%;top: 9.6%;height: 75%;">
              <polygon
                @click="link('genplan/1')"
                @mouseover="setTooltip(true, 'genplan', 1)"
                @mouseout="setTooltip(false, 'genplan', 1)"
                class="active"
                points="460.03 40.45 416.63 0.67 382.44 30.92 367.65 36.84 361.07 55.58 360.75 72.67 345.62 112.12 344.31 106.86 336.09 105.55 325.9 128.23 326.88 152.88 316.36 179.51 327.54 280.77 586.6 290.96 605.01 276.5 641.5 312 641.83 320.22 679.31 334.36 720.07 180.17 718.76 51.96 677.01 14.15 638.21 46.37 624.4 46.37 619.8 60.84 621.45 81.88 614.87 97.33 614.21 104.56 594.16 105.22 595.15 120.34 467.92 113.44 460.03 40.45"
              ></polygon>
              <!-- <polygon 
        points="1031.02 67.37 1022.27 66.87 987.02 28.37 941.77 63.37 938.77 108.12 934.77 124.12 925.52 124.62 919.52 205.37 922.27 319.12 951.77 298.62 964.77 311.87 983.52 317.62 1245.52 332.62 1268.77 317.62 1289.77 336.37 1300.27 236.12 1300.27 156.12 1299.27 81.62 1292.77 80.37 1257.27 42.37 1210.52 78.12 1210.02 86.62 1201.02 87.37 1197.77 151.12 1025.27 142.37 1031.02 67.37" />
    <polygon 
        points="281.94 618.46 223.94 618.46 219.94 590.79 181.02 559.37 170.52 473.37 180.77 449.37 177.27 423.62 185.52 405.12 189.52 405.37 196.52 391.62 199.27 391.37 200.77 384.12 213.77 384.12 232.77 345.62 230.52 324.62 244.27 295.37 258.52 296.62 264.02 288.62 297.52 262.12 311.02 271.62 320.77 279.37 586.6 290.96 605.01 276.5 641.5 312 644.77 459.62 601.02 642.37 566.52 641.87 565.02 613.37 507.77 566.37 499.77 571.37 497.27 502.12 486.02 501.87 486.52 491.87 383.02 486.37 382.77 484.12 349.52 482.37 337.77 513.87 325.77 513.87 281.94 618.46" />
    <polygon 
        points="1308.6 356.79 1314.6 357.79 1315.6 387.46 1315.6 448.79 1321.94 448.96 1321.77 475.29 1327.6 476.12 1328.1 495.79 1310.94 641.79 1284.6 618.29 1221.44 658.79 1221.27 675.29 1209.1 675.96 1208.6 682.62 1205.1 681.46 1205.27 644.79 1194.6 644.12 1194.94 620.79 1191.77 534.79 1006.77 524.79 1006.27 534.96 995.27 535.29 986.27 654.46 981.77 654.46 981.27 638.96 968.94 638.96 969.27 636.29 921.44 593.96 876.1 625.29 878.27 524.79 881.77 414.46 889.44 414.29 893.27 381.62 897.6 382.12 902.27 333.96 909.94 334.29 910.77 327.29 951.77 298.62 964.77 311.87 983.52 317.62 1244.94 332.79 1268.77 317.62 1308.6 356.79" />
    <polygon 
        points="855.57 715.7 863.64 632.62 921.44 593.96 969.27 636.29 968.94 638.96 981.27 638.96 972.44 793.79 1018.94 796.62 1018.94 812.79 1161.44 823.12 1163.27 808.62 1197.1 809.79 1209.1 675.96 1221.27 675.29 1221.44 658.79 1284.6 618.29 1330.1 661.29 1331.6 676.79 1341.27 677.12 1342.77 700.12 1336.6 751.46 1343.1 756.29 1344.1 789.62 1341.77 818.12 1345.77 817.79 1348.6 863.62 1346.27 884.62 1354.94 885.62 1355.44 909.62 1326.6 1081.96 832.1 1046.46 830.27 742.96 847.27 742.96 852.77 717.46 855.57 715.7" />
    <polygon 
              points="116.27 581.62 159.52 543.37 219.94 590.79 240.02 730.12 228.77 754.62 321.27 758.87 324.52 749.12 334.02 749.12 339.27 739.87 343.02 740.12 344.52 748.37 386.27 751.12 388.77 736.12 400.77 735.37 423.52 719.87 421.02 704.87 420.27 694.37 430.27 665.12 428.27 638.62 435.52 615.87 445.27 616.37 448.52 604.62 461.52 604.87 462.77 599.87 507.77 566.37 565.02 613.37 572.27 758.12 499.02 1030.62 27.77 978.12 0.52 836.62 19.02 791.37 14.77 765.37 35.27 723.37 45.77 724.37 47.02 732.12 59.27 706.87 58.02 696.12 92.52 591.62 100.02 591.62 107.27 583.12 116.27 581.62" />-->
            </svg>
          </div>

          <!-- Ракурс 4 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 3}" v-if="imgLoad">
            <div class="lb active" style="left: 60%;top: 10.5%;">
              <div class="t">{{$t('main["Дом"]')}} 1</div>
              <span>IV кв 2020</span>
            </div>
            <div class="lb" style="left: 74.5%;top: 33.5%;">
              <div class="t">{{$t('main["Дом"]')}} 2</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 37.5%;top: 20.5%;">
              <div class="t">{{$t('main["Дом"]')}} 3</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 49%;top: 48.5%;">
              <div class="t">{{$t('main["Дом"]')}} 4</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 19.5%;top: 27.5%;">
              <div class="t">{{$t('main["Дом"]')}} 5</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 29.5%;top: 59.5%;">
              <div class="t">{{$t('main["Дом"]')}} 6</div>
              <span>Скоро</span>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/5.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/3.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/genplan/3.jpg'">
              </picture>
            </div>
            <svg viewBox="0 0 1911.03 1205.39" style="height: 84%;left: 13.4%;top: 6%;">
              <polygon
                @click="link('genplan/1')"
                @mouseover="setTooltip(true, 'genplan', 1)"
                @mouseout="setTooltip(false, 'genplan', 1)"
                class="active"
                points="1334.01 60.6 1316.01 0.6 1040.26 70.6 1022.01 88.85 1019.76 212.6 1187.76 408.35 1470.51 337.6 1489.01 191.6 1470.51 126.35 1332.51 160.85 1326.26 151.35 1334.01 60.6"
              ></polygon>
              <!-- <polygon
                points="1910.51 541.85 1868.76 702.1 1562.26 795.35 1325.51 541.1 1340.51 401.85 1365.76 388.35 1386.01 382.85 1388.76 363.1 1610.01 302.6 1626.01 312.1 1677.51 299.35 1701.51 370.35 1679.26 503.1 1636.26 518.85 1651.51 534.6 1736.01 510.35 1743.51 490.35 1749.01 489.85 1753.01 493.6 1815.51 475.1 1828.26 491.6 1890.01 474.6 1910.51 541.85"
              ></polygon>
              <polygon
                points="543.18 379.1 513.84 334.1 501.84 199.1 506.18 193.1 505.51 172.1 511.67 170.1 514.84 173.6 527.34 171.6 529.51 178.1 778.51 124.44 785.01 127.77 822.51 118.94 839.51 172.6 862.34 200.1 863.34 216.44 878.51 227.6 907.51 225.6 908.84 252.1 923.01 249.94 923.34 260.27 931.67 258.44 932.34 270.27 951.67 265.6 967.01 319.44 964.67 470.44 656.01 558.1 616.17 492.27 606.34 361.6 543.18 379.1"
              ></polygon>
              <polygon
                points="894.64 927.11 941.04 999.83 1307.76 878.97 1321.26 735.96 1299.44 661.85 1273.47 669.47 1274.51 651.12 1271.74 647.65 1226.03 632.76 1201.76 595.1 1203.01 567.85 1170.76 530.35 1161.51 534.1 1161.51 542.1 1144.51 526.85 1145.76 504.35 1142.76 500.6 1127.51 504.85 1127.76 483.85 1069.01 468.1 1055.26 471.85 1042.51 457.1 988.26 472.6 980.76 481.85 976.26 489.85 763.76 552.35 745.26 564.85 754.01 710.1 792.51 767.35 1045.51 699.6 1062.51 719.6 1051.76 720.35 1039.01 704.85 1032.26 706.85 1032.51 719.85 1022.51 723.6 1017.01 718.6 954.26 737.35 952.76 758.85 912.51 774.35 892.51 781.85 894.64 927.11"
              ></polygon>
              <polygon
                points="379.84 379.77 367.51 287.1 347.51 216.77 51.84 288.77 47.51 294.77 2.51 304.1 0.51 320.44 32.51 452.77 121.84 684.44 129.51 701.44 483.17 604.44 464.51 453.1 443.84 379.77 389.17 393.77 379.84 379.77"
              ></polygon>
              <polygon
                points="737.84 914.1 746.17 1065.44 328.51 1204.77 208.84 899.44 199.84 900.44 189.17 878.44 169.17 781.77 177.51 779.44 165.51 723.1 172.51 717.44 228.17 702.1 222.84 683.77 505.84 605.44 515.51 619.1 578.17 603.77 597.51 676.1 612.51 820.77 389.51 890.44 402.84 916.44 540.84 874.1 541.17 856.77 547.17 854.44 552.51 863.44 632.51 833.77 640.84 843.1 655.51 844.1 663.17 850.1 709.84 833.1 737.84 914.1"
              ></polygon>-->
            </svg>
          </div>

          <!-- Ракурс 5 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 7}" v-if="imgLoad">
            <div class="lb active" style="left: 73%;top: 34.5%;">
              <div class="t">{{$t('main["Дом"]')}} 1</div>
              <span>IV кв 2020</span>
            </div>
            <div class="lb" style="left: 55.5%;top: 63.5%;">
              <div class="t">{{$t('main["Дом"]')}} 2</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 52.5%;top: 18.5%;">
              <div class="t">{{$t('main["Дом"]')}} 3</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 33%;top: 39.5%;">
              <div class="t">{{$t('main["Дом"]')}} 4</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 39.5%;top: 9.5%;">
              <div class="t">{{$t('main["Дом"]')}} 5</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 20.5%;top: 27.5%;">
              <div class="t">{{$t('main["Дом"]')}} 6</div>
              <span>Скоро</span>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/9.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/7.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/genplan/7.jpg'">
              </picture>
            </div>
            <svg viewBox="0 0 1888.66 1270.86" style="height: 88%;left: 13%;top: 4%;">
              <polygon
                @click="link('genplan/1')"
                @mouseover="setTooltip(true, 'genplan', 1)"
                @mouseout="setTooltip(false, 'genplan', 1)"
                class="active"
                points="1339.06 527.07 1365.73 475.37 1388.11 480.89 1389.78 467.22 1398.78 469.22 1401.44 460.56 1418.11 464.89 1426.44 455.56 1429.11 436.22 1462.44 412.56 1478.44 419.56 1527.78 382.56 1542.44 354.56 1556.11 331.89 1592.78 347.56 1610.44 354.22 1622.78 346.22 1717.11 384.22 1715.44 391.22 1771.11 413.56 1780.78 402.56 1845.44 433.89 1886.11 444.22 1880.11 465.89 1888.11 475.56 1853.11 621.22 1809.44 662.22 1707.11 611.22 1706.44 617.55 1719.11 628.89 1689.11 778.89 1635.78 831.89 1325.11 682.89 1339.06 527.07"
              ></polygon>
              <!-- <polygon
                points="1248.11 1199.56 1175.78 1270.22 842.78 1050.56 838.45 912.22 876.45 837.55 904.45 851.22 903.78 831.22 1051.44 720.89 1067.78 729.89 1079.78 723.22 1080.78 696.22 1100.44 701.55 1129.11 650.55 1185.11 681.89 1208.78 665.55 1295.78 710.89 1304.44 735.55 1348.11 751.22 1364.78 738.55 1441.44 777.89 1438.78 808.22 1493.11 838.89 1470.78 988.22 1410.11 1043.56 1388.44 1031.89 1376.11 1039.89 1316.44 1002.55 1317.11 992.55 1228.11 943.55 1220.44 950.55 1166.44 919.55 1132.11 954.22 1192.11 982.55 1198.78 979.89 1205.44 984.89 1204.44 1010.22 1210.44 1008.22 1239.44 1024.56 1236.78 1037.22 1261.44 1050.22 1248.11 1199.56"
              ></polygon>
              <polygon
                points="1046.78 307.56 1049.78 189.89 1080.78 132.89 1338.11 244.22 1358.78 266.56 1347.78 395.89 1113.44 563.55 1113.44 573.89 861.11 453.22 858.11 445.22 854.11 305.22 887.78 241.22 949.11 273.56 950.45 263.22 959.11 257.89 993.45 275.89 993.45 291.22 1046.78 307.56"
              ></polygon>
              <polygon
                points="340.44 602.22 374.44 533.89 431.44 558.22 449.44 545.89 505.11 579.55 510.11 606.89 582.11 638.22 610.45 615.55 616.11 617.22 617.45 627.89 638.45 616.55 612.45 603.89 610.45 586.22 602.11 580.89 591.78 458.56 598.11 451.56 627.78 390.89 677.45 413.89 700.11 399.22 754.11 427.89 758.11 448.22 765.11 453.22 779.11 445.89 890.78 504.56 890.78 527.22 930.78 548.22 929.45 559.55 928.45 700.89 615.78 912.55 364.44 752.89 340.44 602.22"
              ></polygon>
              <polygon
                points="515.53 143.81 539.28 97.56 561.28 108.31 560.78 96.06 745.78 0.56 785.78 18.55 798.03 12.8 850.03 28.05 853.03 41.3 886.53 54.8 898.53 47.3 971.28 73.81 970.53 96.81 986.53 110.06 983.03 238.06 934.28 265.81 887.78 241.22 814.78 215.06 807.03 218.56 797.53 216.81 802.78 233.56 805.28 344.06 735.03 384.06 530.78 284.06 515.53 143.81"
              ></polygon>
              <polygon
                points="0.53 400.56 30.03 342.06 59.53 355.31 58.28 338.56 72.78 327.31 90.78 337.56 159.78 305.06 158.03 291.31 209.28 266.31 222.28 273.56 268.53 250.56 267.28 238.81 291.78 220.06 331.78 242.31 356.28 230.56 400.53 255.06 399.78 267.56 433.78 286.56 452.53 275.81 502.28 301.06 509.53 315.56 515.53 319.31 515.53 334.56 547.03 351.56 559.28 486.06 492.78 525.05 477.53 516.55 469.28 521.3 328.28 442.81 287.78 468.56 292.03 481.06 300.03 488.06 319.53 622.05 248.28 664.8 210.53 646.3 205.28 649.55 139.03 612.05 139.78 603.3 32.28 533.8 0.53 400.56"
              ></polygon>-->
            </svg>
          </div>

          <!-- Ракурс 6 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 11}" v-if="imgLoad">
            <div class="lb active" style="left: 60%; top: 63.5%;">
              <div class="t">{{$t('main["Дом"]')}} 1</div>
              <span>IV кв 2020</span>
            </div>
            <div class="lb" style="left: 29.5%;top: 60.5%;">
              <div class="t">{{$t('main["Дом"]')}} 2</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 60.5%;top: 29.5%;">
              <div class="t">{{$t('main["Дом"]')}} 3</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 35%;top: 27.5%;">
              <div class="t">{{$t('main["Дом"]')}} 4</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 61%;top: 16.5%;">
              <div class="t">{{$t('main["Дом"]')}} 5</div>
              <span>Скоро</span>
            </div>
            <div class="lb" style="left: 38%;top: 15.5%;">
              <div class="t">{{$t('main["Дом"]')}} 6</div>
              <span>Скоро</span>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/13.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/genplan/11.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/genplan/11.jpg'">
              </picture>
            </div>
            <svg viewBox="0 0 1330.16 1044.78" style="height: 73%;left: 20.8%;top: 8.4%;">
              <polygon
                @click="link('genplan/1')"
                @mouseover="setTooltip(true, 'genplan', 1)"
                @mouseout="setTooltip(false, 'genplan', 1)"
                class="active"
                points="1298.47 1044.24 1186.75 1034.64 1186.75 990.78 1176.13 989.07 1182.3 911.62 1175.1 910.93 1172.36 841.02 988.33 832.45 964 828.34 962.28 847.19 948.92 848.22 935.89 994.55 922.53 994.55 919.45 1016.14 810.47 1006.54 812.87 860.55 818.69 717.65 831.37 716.28 842.68 618.26 851.25 618.26 852.96 605.93 898.54 575.08 922.87 593.93 982.16 603.87 1222.39 621.69 1258.03 600.44 1305.33 639.85 1306.01 648.42 1311.49 648.08 1314.24 688.52 1310.47 711.82 1312.18 762.54 1321.78 771.79 1321.78 801.95 1328.63 804.01 1329.66 829.71 1323.83 869.12 1322.46 894.48 1298.47 1044.24"
              ></polygon>
              <!-- <polygon
                points="134.19 951.72 29.19 945.39 0.52 795.05 15.85 761.05 10.19 735.05 20.85 711.39 26.52 711.39 38.19 685.72 62.85 669.72 82.85 628.72 79.19 605.05 96.52 569.05 113.52 569.39 117.19 560.39 159.85 526.72 175.85 538.72 189.85 533.72 472.19 553.72 476.19 569.05 502.85 549.72 548.52 586.05 556.19 768.72 495.52 982.39 389.19 973.72 386.52 949.39 374.52 948.05 361.19 821.39 373.19 787.39 219.85 775.05 202.85 815.39 189.85 815.72 134.19 951.72"
              ></polygon>
              <polygon
                points="1291.85 296.39 1290.19 337.72 1296.85 339.72 1297.85 365.39 1293.19 367.72 1295.19 423.72 1293.85 445.72 1301.19 447.05 1295.52 527.05 1278.52 616.39 1256.85 599.72 1222.39 621.69 1214.19 608.05 920.52 592.05 898.54 575.08 871.52 593.05 872.19 348.39 883.85 347.39 885.19 331.72 889.85 328.05 894.52 271.72 942.85 234.39 993.85 283.72 987.52 375.05 1177.85 385.72 1177.85 355.05 1181.85 301.05 1192.85 300.72 1192.52 289.05 1244.19 252.39 1283.19 289.72 1283.52 296.72 1291.85 296.39"
              ></polygon>
              <polygon
                points="645.19 258.72 648.85 411.72 601.52 568.05 524.85 565.72 502.85 549.72 472.19 553.72 205.85 543.05 190.85 411.05 203.52 381.05 200.52 355.72 213.85 327.05 226.52 330.05 252.52 238.39 263.19 239.05 308.52 199.72 356.85 241.05 360.85 253.39 368.19 338.39 506.19 346.39 506.85 331.39 527.19 331.72 533.85 325.72 537.19 297.05 534.19 269.72 538.52 254.39 547.52 254.05 549.52 250.05 558.85 250.72 599.85 213.39 645.19 258.72"
              ></polygon>
              <polygon
                points="922.44 54.64 928.69 55.14 930.19 52.64 962.44 28.64 974.44 35.89 1221.19 49.14 1232.19 41.89 1265.69 71.39 1273.19 72.14 1272.69 109.39 1277.44 109.64 1277.19 124.39 1277.94 155.64 1282.94 156.14 1282.94 202.39 1278.19 203.14 1272.69 279.64 1244.19 252.39 1192.52 289.05 1192.85 300.72 1181.85 301.05 1181.19 306.39 1171.19 305.14 1173.19 257.89 1171.44 257.39 1168.19 255.39 1168.19 229.64 1001.94 225.89 993.44 315.39 991.94 315.64 993.85 283.72 942.85 234.39 901.69 265.39 904.19 117.14 911.94 116.64 915.94 95.39 918.69 95.14 922.44 54.64"
              ></polygon>
              <polygon
                points="699.69 43.89 666.44 12.64 654.44 23.14 419.94 10.89 404.69 0.64 375.94 27.39 360.19 26.89 351.69 46.89 351.69 66.39 343.19 88.89 329.94 89.64 312.44 118.14 313.94 142.14 308.19 158.39 310.69 192.89 319.44 193.64 319.19 208.64 356.85 241.05 361.94 255.64 363.94 290.14 398.19 291.14 449.69 191.89 575.19 200.64 576.94 233.64 599.85 213.39 645.19 258.72 646.19 307.14 668.94 307.89 691.94 230.64 691.69 223.39 695.94 221.14 697.19 218.39 699.69 43.89"
              ></polygon>-->
            </svg>
          </div>
        </div>

        <div class="v-plan building" v-if="type == 'building'">
          <!-- Ракурс 1 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 22}">
            <div class="lb active" style="left: 47.5%;top: 37.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 4</div>
            </div>
            <div class="lb active" style="left: 67.5%;top: 26.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 3</div>
            </div>
            <div class="lb active" style="left: 51.5%;top: 10.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 2</div>
            </div>
            <div class="lb active" style="left: 34.5%;top: 13.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 1</div>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/22.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/22.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/building/22.jpg'" ref="mainImg" alt>
              </picture>
            </div>

            <svg viewBox="0 0 1081.96 936.85" style="left: 25%;height: 87.3%;top: 4.6%;">
              <polygon
                @click="link('building/1/4')"
                @mouseover="setTooltip(true, 'building', 4)"
                @mouseout="setTooltip(false, 'building', 4)"
                :class="{'active': tooltip.s == 4}"
                points="281.94 936.27 209.81 790.13 185.77 462.97 207.45 424.32 200.85 379.06 221.6 375.29 227.72 386.13 669.91 298.92 715.63 434.22 724.59 495.03 704.79 821.71 635.49 848.59 281.94 936.27"
              ></polygon>
              <polygon
                @click="link('building/1/3')"
                @mouseover="setTooltip(true, 'building', 3)"
                @mouseout="setTooltip(false, 'building', 3)"
                :class="{'active': tooltip.s == 3}"
                points="1081.45 410.65 1033.83 261.21 805.2 124.97 728.83 107.06 621.35 234.34 607.21 331.92 636.44 326.26 636.44 306.46 669.91 298.92 715.16 431.86 724.12 496.91 704.79 821.71 1031.48 726.96 1077.67 417.72 1080.03 417.25 1081.45 410.65"
              ></polygon>
              <path
                @click="link('building/1/2')"
                @mouseover="setTooltip(true, 'building', 2)"
                @mouseout="setTooltip(false, 'building', 2)"
                :class="{'active': tooltip.s == 2}"
                d="M1064.6,48.85l13.2,7.07,73.53-5.18,9.9,33.47,36.3,13.2,10.85,30.17,35.35,19.79,49,35.83-92.4-27.81L1092.88,282.67s-15.56,94.28-14.61,95.7-77.31,16-77.31,16l-34-33.94-13.2,5.19-.47,32.05-17.91,8.49-15.56-16.5L906.2,392l-2.35-173.48L866.13,79.49Z"
                transform="translate(-471.53 -48.33)"
              ></path>
              <polygon
                @click="link('building/1/1')"
                @mouseover="setTooltip(true, 'building', 1)"
                @mouseout="setTooltip(false, 'building', 1)"
                :class="{'active': tooltip.s == 1}"
                points="82.53 524.73 26.9 391.79 0.51 149.96 11.82 91.03 396.02 34.93 432.32 170.23 435.14 345.12 315.41 368.69 313.52 389.9 264.49 400.75 260.72 379.53 227.72 386.13 221.6 375.29 199.91 380.48 207.45 424.32 185.77 462.97 189.54 511.53 132.03 525.67 123.07 516.71 82.53 524.73"
              ></polygon>
            </svg>
          </div>

          <!-- Ракурс 2 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 1}" v-if="imgLoad">
            <div class="lb active" style="left: 62%;top: 34.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 4</div>
            </div>
            <div class="lb active" style="left: 63.5%;top: 17.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 3</div>
            </div>
            <div class="lb active" style="left: 41.5%;top: 10.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 2</div>
            </div>
            <div class="lb active" style="left: 27.5%;top: 25.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 1</div>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/1.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/1.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/building/1.jpg'" ref="mainImg" alt>
              </picture>
            </div>

            <svg viewBox="0 0 1550.18 1197.11" style="height: 83.4%;left: 17.9%;top: 5.9%;">
              <polygon
                @click="link('building/1/4')"
                @mouseover="setTooltip(true, 'building', 4)"
                @mouseout="setTooltip(false, 'building', 4)"
                :class="{'active': tooltip.s == 4}"
                points="1241.97 1196.53 945.3 1118.53 959.97 660.53 976.63 635.19 956.63 633.19 957.97 601.19 989.97 557.86 1029.3 565.19 1035.3 562.53 1038.63 481.86 1050.63 463.19 1049.97 450.53 1055.97 442.53 1065.3 442.53 1099.3 397.19 1117.3 389.19 1124.63 389.19 1126.63 343.86 1133.3 339.19 1189.97 352.53 1299.97 291.19 1442.63 470.53 1404.63 881.86 1241.97 1196.53"
              ></polygon>
              <polygon
                @click="link('building/1/3')"
                @mouseover="setTooltip(true, 'building', 3)"
                @mouseout="setTooltip(false, 'building', 3)"
                :class="{'active': tooltip.s == 3}"
                points="898.63 246.19 951.3 60.86 1367.97 123.86 1388.3 137.19 1390.63 134.53 1436.63 102.19 1549.63 238.86 1545.63 253.19 1532.63 351.19 1541.3 354.19 1516.63 539.19 1504.97 564.19 1511.97 572.19 1501.3 647.19 1486.63 682.53 1458.63 724.19 1409.3 821.19 1442.63 470.53 1299.97 291.19 1189.97 352.53 1133.3 339.19 1126.63 343.86 1124.63 389.19 1116.3 388.86 1099.3 397.19 1065.3 442.53 1055.97 442.53 1049.97 450.53 1050.63 463.19 1038.63 481.86 1035.3 562.53 1029.3 565.19 989.97 557.86 957.97 601.19 956.63 633.19 976.63 635.19 959.63 659.53 958.97 667.86 892.97 653.53 898.63 246.19"
              ></polygon>
              <polygon
                @click="link('building/1/2')"
                @mouseover="setTooltip(true, 'building', 2)"
                @mouseout="setTooltip(false, 'building', 2)"
                :class="{'active': tooltip.s == 2}"
                points="571.63 0.53 503.63 52.19 441.97 43.19 376.63 90.86 416.3 99.19 508.63 212.19 508.3 253.19 536.97 258.53 561.97 665.19 589.63 671.53 655.3 596.19 736.3 612.19 737.3 618.86 892.97 653.53 898.63 246.19 951.3 60.86 571.63 0.53"
              ></polygon>
              <polygon
                @click="link('building/1/1')"
                @mouseover="setTooltip(true, 'building', 1)"
                @mouseout="setTooltip(false, 'building', 1)"
                :class="{'active': tooltip.s == 1}"
                points="0.63 451.53 89.97 363.19 80.63 307.19 101.97 289.19 99.63 264.86 109.3 258.19 135.97 264.19 219.97 207.86 217.3 182.53 222.63 176.53 303.63 191.53 312.3 188.86 370.3 146.86 366.97 91.19 416.3 99.19 508.63 212.19 508.3 253.19 536.97 258.53 561.97 665.19 459.97 774.53 461.63 808.53 373.63 910.19 344.63 904.53 310.3 943.19 68.63 882.86 4.3 457.53 0.63 451.53"
              ></polygon>
            </svg>
          </div>

          <!-- Ракурс 3 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 5}" v-if="imgLoad">
            <div class="lb active" style="left: 66.5%;top: 21.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 4</div>
            </div>
            <div class="lb active" style="left: 50.5%;top: 11.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 3</div>
            </div>
            <div class="lb active" style="left: 26.5%;top: 20.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 2</div>
            </div>
            <div class="lb active" style="left: 37.5%;top: 37.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 1</div>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/5.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/5.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/building/5.jpg'" ref="mainImg" alt>
              </picture>
            </div>

            <svg viewBox="0 0 1605.74 1320.81" style="height: 91.7%;left: 18.9%;top: 1.3%;">
              <polygon
                @click="link('building/1/1')"
                @mouseover="setTooltip(true, 'building', 1)"
                @mouseout="setTooltip(false, 'building', 1)"
                :class="{'active': tooltip.s == 1}"
                points="589.38 1320.21 840.38 1189.21 842.38 1117.21 870.88 1104.21 875.38 711.71 767.38 639.21 769.38 561.71 699.88 515.71 667.38 527.71 618.38 495.21 618.38 479.71 607.38 471.71 570.88 484.21 570.38 478.21 553.88 463.71 553.88 454.21 543.38 445.71 509.38 458.71 363.88 357.71 210.88 576.71 190.88 583.71 239.88 1015.71 589.38 1320.21"
              ></polygon>
              <polygon
                @click="link('building/1/2')"
                @mouseover="setTooltip(true, 'building', 2)"
                @mouseout="setTooltip(false, 'building', 2)"
                :class="{'active': tooltip.s == 2}"
                points="669.88 323.54 582.88 142.54 202.55 250.21 155.55 281.21 94.88 236.54 0.55 374.21 3.88 385.21 71.22 829.88 120.88 878.54 123.88 900.21 239.88 1015.71 190.88 583.71 210.88 576.71 363.88 357.71 509.38 458.71 543.38 445.71 553.88 454.21 553.88 463.71 570.38 478.21 570.88 484.21 607.38 471.71 618.38 479.71 618.38 495.21 667.38 527.71 687.22 520.21 673.22 511.88 669.88 323.54"
              ></polygon>
              <polygon
                @click="link('building/1/3')"
                @mouseover="setTooltip(true, 'building', 3)"
                @mouseout="setTooltip(false, 'building', 3)"
                :class="{'active': tooltip.s == 3}"
                points="1016.88 302.54 1126.21 139.54 911.22 49.21 906.22 41.54 880.55 47.88 872.88 42.88 875.22 5.21 866.22 0.54 837.55 10.21 839.22 35.21 832.55 55.88 809.88 44.54 797.88 49.21 796.22 70.54 789.88 70.88 790.22 83.88 582.88 142.54 669.88 323.54 673.22 511.88 687.22 520.21 699.88 515.71 769.38 561.71 767.38 639.21 815.22 670.88 880.22 645.21 976.88 707.88 1001.88 697.88 1016.88 302.54"
              ></polygon>
              <polygon
                @click="link('building/1/4')"
                @mouseover="setTooltip(true, 'building', 4)"
                @mouseout="setTooltip(false, 'building', 4)"
                :class="{'active': tooltip.s == 4}"
                points="1605.21 402.88 1539.55 836.54 1357.88 926.21 1001.88 697.88 1016.88 302.54 1129.55 134.54 1286.88 205.88 1289.21 194.88 1324.88 183.54 1336.21 189.21 1335.21 202.88 1347.55 211.21 1347.21 214.54 1365.88 209.21 1376.55 215.21 1374.21 232.21 1423.88 256.21 1433.55 252.54 1487.88 276.54 1496.21 272.88 1525.55 285.54 1559.88 272.88 1577.88 280.88 1574.55 288.88 1563.55 351.88 1605.21 402.88"
              ></polygon>
            </svg>
          </div>

          <!-- Ракурс 4 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 9}" v-if="imgLoad">
            <div class="lb active" style="left: 53.5%;top: 11.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 4</div>
            </div>
            <div class="lb active" style="left: 34.5%;top: 12.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 3</div>
            </div>
            <div class="lb active" style="left: 34.5%;top: 34.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 2</div>
            </div>
            <div class="lb active" style="left: 61.5%;top: 37.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 1</div>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/9.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/9.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/building/9.jpg'" ref="mainImg" alt>
              </picture>
            </div>

            <svg viewBox="0 0 1267.84 1212.14" style="height: 84.2%;left: 27.3%;top: 5.8%;">
              <polygon
                @click="link('building/1/1')"
                @mouseover="setTooltip(true, 'building', 1)"
                @mouseout="setTooltip(false, 'building', 1)"
                :class="{'active': tooltip.s == 1}"
                points="1267.34 635.44 1202.47 1122.32 615.63 1178.03 617.92 701.07 595.79 432.45 1234.52 397.35 1267.34 635.44"
              ></polygon>
              <polygon
                @click="link('building/1/2')"
                @mouseover="setTooltip(true, 'building', 2)"
                @mouseout="setTooltip(false, 'building', 2)"
                :class="{'active': tooltip.s == 2}"
                points="89.07 1211.6 266.12 1197.87 265.35 1210.08 615.63 1178.03 617.92 701.07 592.73 408.03 408.06 425.58 398.14 353.85 366.08 355.38 210.41 232.51 127.99 293.56 33.36 298.91 28.02 382.85 37.94 472.13 12.76 470.61 11.99 499.61 21.91 557.61 24.97 641.55 0.55 643.84 37.94 1017.01 65.41 1016.24 89.07 1211.6"
              ></polygon>
              <polygon
                @click="link('building/1/3')"
                @mouseover="setTooltip(true, 'building', 3)"
                @mouseout="setTooltip(false, 'building', 3)"
                :class="{'active': tooltip.s == 3}"
                points="498.87 218.78 487.42 25.71 186.75 43.26 184.46 51.65 131.04 53.18 132.57 63.86 35.65 70.73 42.52 191.31 46.34 208.86 44.81 296.62 127.99 293.56 210.41 232.51 366.08 355.38 398.14 353.85 408.06 425.58 501.16 418.72 498.87 218.78"
              ></polygon>
              <polygon
                @click="link('building/1/4')"
                @mouseover="setTooltip(true, 'building', 4)"
                @mouseout="setTooltip(false, 'building', 4)"
                :class="{'active': tooltip.s == 4}"
                points="997.95 182.91 976.59 0.52 487.42 25.71 498.87 218.78 500.39 414.9 613.34 406.51 656.07 405.74 656.84 431.69 837.7 417.19 836.17 392.77 979.64 386.67 997.95 182.91"
              ></polygon>
            </svg>
          </div>

          <!-- Ракурс 5 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 13}" v-if="imgLoad">
            <div class="lb active" style="left: 38.5%;top: 14.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 4</div>
            </div>
            <div class="lb active" style="left: 28.5%;top: 26.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 3</div>
            </div>
            <div class="lb active" style="left: 57.5%;top: 37.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 2</div>
            </div>
            <div class="lb active" style="left: 69.5%;top: 19.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 1</div>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/13.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/13.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/building/13.jpg'" ref="mainImg" alt>
              </picture>
            </div>

            <svg viewBox="0 0 1560.62 1313.31" style="height: 91%;left: 17.5%;top: 1.8%;">
              <polygon
                @click="link('building/1/1')"
                @mouseover="setTooltip(true, 'building', 1)"
                @mouseout="setTooltip(false, 'building', 1)"
                :class="{'active': tooltip.s == 1}"
                points="1560.09 304.54 1502.09 717.04 1398.59 971.54 1445.59 535.04 1431.09 536.04 1271.09 362.04 1160.09 428.54 1160.59 405.04 1199.59 350.04 1205.09 273.04 1231.59 237.04 1267.59 242.04 1268.59 253.54 1273.09 249.04 1295.59 253.04 1307.09 240.04 1338.59 217.04 1341.59 191.54 1345.59 186.04 1375.59 190.54 1412.59 165.54 1415.09 131.04 1419.59 124.04 1472.59 132.54 1464.09 179.04 1560.09 304.54"
              ></polygon>
              <polygon
                @click="link('building/1/2')"
                @mouseover="setTooltip(true, 'building', 2)"
                @mouseout="setTooltip(false, 'building', 2)"
                :class="{'active': tooltip.s == 2}"
                points="596.09 575.54 621.59 1106.54 1135.59 1243.54 1225.59 1312.54 1277.09 1202.54 1292.59 1208.04 1398.59 971.54 1445.59 538.54 1445.59 535.04 1431.09 536.04 1417.59 527.54 1422.09 489.04 1374.59 478.54 1376.59 451.04 1345.09 443.54 1271.09 362.04 1160.09 428.54 1159.59 423.04 1148.09 420.54 1143.09 428.54 1142.09 432.54 1049.59 415.54 1044.59 427.04 1044.59 471.04 926.59 446.54 927.59 413.54 913.09 412.54 893.09 436.04 891.09 421.54 879.09 418.54 874.09 427.04 873.09 447.54 672.59 408.04 641.59 528.54 596.09 575.54"
              ></polygon>
              <polygon
                @click="link('building/1/3')"
                @mouseover="setTooltip(true, 'building', 3)"
                @mouseout="setTooltip(false, 'building', 3)"
                :class="{'active': tooltip.s == 3}"
                points="0.59 533.54 81.09 455.04 71.09 395.04 79.59 388.04 87.59 389.04 88.09 373.54 181.59 304.54 204.09 308.54 207.59 336.54 217.59 338.54 256.59 310.54 249.59 249.54 253.09 243.54 292.59 252.54 292.59 244.04 296.09 239.04 305.09 241.54 306.09 217.04 312.09 213.04 345.09 219.04 340.09 180.54 346.59 173.54 428.09 188.04 423.09 193.54 453.09 200.04 451.59 259.04 534.59 349.54 546.59 342.04 559.09 345.04 559.09 377.04 570.09 379.04 582.09 376.54 597.09 380.04 599.59 393.54 619.09 398.04 672.59 408.04 641.59 528.54 596.09 575.54 621.59 1106.54 67.09 949.54 4.09 542.04 0.59 533.54"
              ></polygon>
              <polygon
                @click="link('building/1/4')"
                @mouseover="setTooltip(true, 'building', 4)"
                @mouseout="setTooltip(false, 'building', 4)"
                :class="{'active': tooltip.s == 4}"
                points="734.09 169.04 739.09 422.54 731.59 418.54 731.59 405.04 716.59 402.04 715.59 377.54 699.59 373.54 689.09 383.54 674.09 380.04 662.59 392.04 628.09 384.54 619.09 398.04 599.59 393.54 597.09 380.04 582.09 376.54 570.09 379.04 559.09 377.04 559.09 345.04 546.59 342.04 534.59 349.54 451.59 259.04 453.09 200.04 423.09 193.54 428.09 188.04 370.59 177.54 377.59 173.54 377.09 166.04 385.59 156.54 385.59 140.54 392.59 135.04 400.59 135.04 434.09 111.04 442.59 103.54 483.09 112.04 484.59 121.54 568.09 58.54 565.09 8.04 571.09 0.54 643.09 11.04 642.59 58.54 734.09 169.04"
              ></polygon>
            </svg>
          </div>

          <!-- Ракурс 6 -->
          <div class="rk" :class="{'active': !v360, 'hide': activeSlide2 != 17}" v-if="imgLoad">
            <div class="lb active" style="left: 24.5%;top: 26.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 4</div>
            </div>
            <div class="lb active" style="left: 42.5%;top: 40.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 3</div>
            </div>
            <div class="lb active" style="left: 67.5%;top: 24.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 2</div>
            </div>
            <div class="lb active" style="left: 54.5%;top: 8.5%;">
              <div class="t">{{$t('pd["Секция"]')}} 1</div>
            </div>
            <div class="img-plan">
              <picture>
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/17.webp'"
                  type="image/webp"
                >
                <source
                  :srcset="$store.state.mainUrl+'assets/images/building/17.jpg'"
                  type="image/jpeg"
                >
                <img :src="$store.state.mainUrl+'assets/images/building/17.jpg'" ref="mainImg" alt>
              </picture>
            </div>

            <svg viewBox="0 0 1621.67 1342.45" style="left: 18.7%;height: 93.2%;top: 1%;">
              <polygon
                @click="link('building/1/4')"
                @mouseover="setTooltip(true, 'building', 4)"
                @mouseout="setTooltip(false, 'building', 4)"
                :class="{'active': tooltip.s == 4}"
                points="0.66 386.87 64.66 290.37 56.66 222.37 136.66 198.87 146.16 206.87 148.66 253.87 251.66 322.87 249.16 285.37 300.66 269.87 308.66 275.37 309.16 297.87 313.66 297.37 389.16 347.87 410.66 340.87 419.66 347.87 421.66 390.37 443.66 384.87 452.16 392.37 336.16 555.37 315.16 565.87 317.66 601.37 285.16 615.37 326.66 1065.37 230.66 964.87 211.66 975.87 166.16 934.87 160.66 918.87 65.16 802.37 4.66 390.37 0.66 386.87"
              ></polygon>
              <polygon
                @click="link('building/1/3')"
                @mouseover="setTooltip(true, 'building', 3)"
                @mouseout="setTooltip(false, 'building', 3)"
                :class="{'active': tooltip.s == 3}"
                points="1167.16 638.87 1137.66 1069.37 612.16 1341.87 500.16 1273.87 442.16 1222.37 426.66 1160.87 326.66 1065.37 285.16 615.37 317.66 601.37 315.16 565.87 336.16 555.37 452.16 392.37 488.16 379.87 498.16 388.37 495.66 448.87 590.16 512.87 591.16 475.37 687.66 445.37 698.16 452.87 697.16 496.87 797.66 461.87 800.66 462.87 801.16 430.87 810.66 425.87 866.66 462.87 1058.66 392.37 1167.16 638.87"
              ></polygon>
              <polygon
                @click="link('building/1/2')"
                @mouseover="setTooltip(true, 'building', 2)"
                @mouseout="setTooltip(false, 'building', 2)"
                :class="{'active': tooltip.s == 2}"
                points="1617.83 440.21 1547.49 894.21 1348.16 976.54 1330.49 966.21 1137.66 1069.37 1167.16 638.87 1051.49 376.87 1060.83 372.87 1062.16 365.21 1070.83 345.21 1187.49 173.21 1235.16 195.21 1235.83 185.87 1276.16 171.87 1282.83 175.54 1280.49 180.87 1278.83 198.21 1287.83 195.54 1294.83 200.87 1295.16 205.54 1319.16 197.87 1324.49 201.21 1321.16 232.54 1375.16 257.54 1376.49 251.54 1390.49 243.87 1516.16 300.87 1511.49 333.21 1538.16 346.87 1540.49 325.21 1571.16 311.54 1581.83 318.87 1572.83 375.54 1621.16 430.87 1620.49 439.87 1617.83 440.21"
              ></polygon>
              <path
                @click="link('building/1/1')"
                @mouseover="setTooltip(true, 'building', 1)"
                @mouseout="setTooltip(false, 'building', 1)"
                :class="{'active': tooltip.s == 1}"
                d="M1240.67,174.67,1320.33,57l1-33.33,35.34-11,9.66,5.33.67,11.67,4,2.66-3,5-1,15.34L1466,97V84.33L1508.33,71l6,4.33L1513.67,99l14,4.67,4.33-1.34,63.67,32,36.33-9.66,7,5.66L1637.67,149,1663,161l37-10.67,7,6.34L1703.67,201,1664,184.67,1547,358l-8.67,31.33-36.33-18L1487.67,378l10.33,7.33L1487.67,391l16.66,8.33-26,11,4.34,13.67-14,5.67-16.34-11.34-15,6.67s6,15,4.34,15-97.17,35-97.17,35l-56-37-9.5,5-.5,32-4.5-1.33L1249.67,483,1223,466.33,1222,187l20.67-5.67Z"
                transform="translate(-477.84 -12.13)"
              ></path>
            </svg>
          </div>
        </div>

        <floors
          v-if="type == 'floors'"
          @floor="setTooltipFl"
          @activeTooltip="activeTooltip = false"
        ></floors>
      </div>

      <div class="visual-footer">
        <div class="container line1">
          <div class="heading2">
            {{l('Выберите', 'Виберіть')}}
            <br>
            <span v-if="type == 'genplan'">{{$t('main["Дом"]')}}</span>
            <span v-if="type == 'building'">{{l('Секцию','Секцію')}}</span>
            <span v-if="type == 'floors'">{{$t('pd["Этаж"]')}}</span>
          </div>

          <div class="ico-360">
            <svg>
              <use xlink:href="#ico-360"></use>
            </svg>
          </div>

          <nuxt-link :to="$i18n.path('')+'podbor'" exact class="link-ico">
            <div class="ico">
              <svg>
                <use xlink:href="#ico-settings"></use>
              </svg>
            </div>

            <span style="max-width: 100px" class="t">{{$t('links["Подбор по параметрам"]')}}</span>
          </nuxt-link>

          <!--
        <div class="type-list">
          <a href="#" class="active">{{$t('main["Квартиры"]')}}</a>
          <a href="#">{{$t('main["Коммерция"]')}}</a>
          <a href="#">{{$t('main["Паркинг"]')}}</a>
          </div>-->
        </div>
      </div>

      <div class="wrap-tooltip" :style="tooltipCord">
        <div class="tooltip tooltip-dom" :class="{'active': activeTooltip}">
          <div class="it" v-if="type == 'genplan'">
            <div class="t">{{$t('pd["Дом"]')}}</div>
            <div class="n">{{tooltip.b}}</div>
          </div>
          <div class="it" v-if="type == 'building' || type == 'floors'">
            <div class="t">{{$t('pd["Секция"]')}}</div>
            <div class="n">{{tooltip.s}}</div>
          </div>
          <div class="it" v-if="type != 'floors'">
            <div class="t">{{l('Этажей','Поверхів')}}</div>
            <div class="n">{{tooltip.fl}}</div>
          </div>
          <div class="it" v-if="type == 'floors'">
            <div class="t">{{$t('pd["Этаж"]')}}</div>
            <div class="n">{{tooltip.floor}}</div>
          </div>
          <div class="it">
            <div class="t">Квартир {{l('в продаже','в продажі')}}</div>
            <div class="n">{{tooltip.flats}}</div>
          </div>
        </div>
      </div>
    </div>
    <div class="mob-select-object">
      <div class="col-bl col-ob col-nav" v-if="type == 'genplan'">
        <div class="arr-l dis"></div>
        <div class="arr-r dis"></div>
        <div class="t">{{$t('pd["Дом"]')}}</div>
        <div class="val">{{tooltip.b}}</div>
      </div>
      <div class="col-bl col-ob col-nav" v-if="type == 'building'">
        <div class="arr-l" @click="mobSelect('minus')"></div>
        <div class="arr-r" @click="mobSelect('plus')"></div>
        <div class="t">{{$t('pd["Секция"]')}}</div>
        <div class="val">{{tooltip.s}}</div>
      </div>
      <div class="col-bl col-ob floor-section" v-if="type == 'floors'">
        <div class="t">{{$t('pd["Секция"]')}}</div>
        <div class="val">{{tooltip.s}}</div>
      </div>
      <div class="col-floors col-ob col-nav" v-if="type == 'floors'">
        <div class="arr-l" @click="mobSelect('minus')"></div>
        <div class="arr-r" @click="mobSelect('plus')"></div>
        <div class="t">{{$t('pd["Этаж"]')}}</div>
        <div class="val">{{tooltip.floor}}</div>
      </div>
      <div class="col-fl col-ob" v-if="type != 'floors'">
        <div class="t">{{l('Этажей','Поверхів')}}</div>
        <div class="val">{{tooltip.fl}}</div>
      </div>
      <div class="col-flat col-ob">
        <div class="t">
          Квартир
          <span>{{l('в продаже','в продажі')}}</span>
        </div>
        <div class="val">{{tooltip.flats}}</div>
      </div>
      <a href="#" @click.prevent="mobLink" class="col-btn">
        <span>
          <span class="t-bt">{{$t('main["Выбрать"]')}}</span>
        </span>
      </a>
    </div>
    <div class="help-swipe" :class="{'load': activeSlide2}">
      <div class="center">
        <img :src="$store.state.mainUrl+'assets/images/swipe-help.png'">
      </div>
    </div>

    <div class="mask-visual" v-if="preloader">
      <div class="text">
        <div class="ico">
          <svg>
            <use xlink:href="#ico-360"></use>
          </svg>
        </div>
        <p>{{l('Используйте мышь или проведите по экрану, чтобы осмотреться на', 'Використовуйте мишу або проведіть по екрану, щоб озирнутися на')}} 360°</p>
        <a href="#" @click.prevent="hideMask">{{l('Закрыть', 'Закрити')}}</a>
      </div>
    </div>

    <div class="mask-anim" v-if="maskAnim"></div>
  </div>
</template>

<script>
import floors from "~/components/visual/floors.vue";
// import { react } from "babel-types";
// import { try } from 'q';
export default {
  components: {
    floors
  },
  data() {
    return {
      maskAnim: true,
      preloader: false,
      imgLoad: false,
      activeTooltip: false,
      tooltipCord: {},
      v360: false,
      par: false,
      last: 1,
      last2: false,
      pic_X: false,
      pic_W: false,
      center_X: false,
      movestop: false,
      timeFrame: 60,
      draggable: false,
      wheeling: undefined,
      touchTimeout: null,
      activeSlide2: 0,
      tooltip: {
        b: 1,
        fl: 8,
        floor: 2,
        flats: 1,
        s: 1
      }
    };
  },

  props: ["dir", "type", "activeSlide", "rk"],

  mounted() {
    setTimeout(() => {
      this.maskAnim = false;
    }, 2000);

    if (this.type == "genplan") {
      this.preloader = true;
    }
    let mask = this.getCookie("mask");
    if (mask) {
      this.preloader = false;
    } else {
      setTimeout(() => {
        $(".mask-visual").fadeOut("slow");
      }, 3000);
    }

    this.activeSlide2 = this.activeSlide;
    //  console.log(this.$route);
    if (window.innerWidth > 1200 && !this.$route.params.fl) {
      let img = this.$refs.mainImg;
      //  console.log(img);
      this.$refs.mainImg.onload = () => {
        this.imgLoad = true;
        this.$nextTick(() => {
          this.par = $(".list360");
          if (this.par.offset()) {
            this.pic_X = this.par.offset().left;
            this.pic_W = this.par.width() / 2;
            this.center_X = this.pic_X + this.pic_W;
            this.movestop = this.pic_W / 25;
          }
        });
      };
    }

    if (window.innerWidth < 1200) {
      if (this.$store.state.flats) {
        this.firstSet();
      }
      setTimeout(() => {
        this.firstSet();
      }, 2000);
    }

    if (window.innerWidth < 800) {
      $(".visual-wrap").scrollLeft(250);
    }
  },

  methods: {
    hideMask() {
      this.preloader = false;
      this.setCookie("mask", 1, 30);
    },
    firstSet() {
      if (this.type == "building")
        this.setTooltip(true, "building", this.tooltip.s);
      if (this.type == "genplan") this.setTooltip(true, "genplan", 1);
    },
    link(item) {
      this.$router.push({ path: this.$i18n.path("") + item });
    },
    mobLink() {
      if (this.type == "genplan") {
        this.link("genplan/" + this.tooltip.b);
        return;
      }
      if (this.type == "building") {
        this.link("building/" + this.tooltip.b + "/" + this.tooltip.s);
        return;
      }
      if (this.type == "floors") {
        this.link(
          "building/" +
            this.$route.params.bl +
            "/" +
            this.$route.params.fl +
            "/floor/" +
            this.tooltip.floor
        );
      }
    },
    mobSelect(t) {
      if (this.type == "floors") {
        $("[data-fl]").removeClass("active");
        let num;
        if (t == "plus") {
          if ($("[data-fl=" + (this.tooltip.floor + 1) + "]").length) {
            $("[data-fl=" + (this.tooltip.floor + 1) + "]").addClass("active");
            num = this.tooltip.floor + 1;
          } else {
            $("[data-fl]:last-child").addClass("active");
            num = $("[data-fl]:last-child").data("fl");
          }
        }
        if (t == "minus") {
          if ($("[data-fl=" + (this.tooltip.floor - 1) + "]").length) {
            $("[data-fl=" + (this.tooltip.floor - 1) + "]").addClass("active");
            num = this.tooltip.floor - 1;
          } else {
            $("[data-fl]:first-child").addClass("active");
            num = $("[data-fl]:first-child").data("fl");
          }
        }
        this.setTooltipFl(num);
        return;
      }

      if (t == "plus") {
        this.tooltip.s = this.tooltip.s + 1;
      }
      if (t == "minus") {
        this.tooltip.s = this.tooltip.s - 1;
      }
      if (this.tooltip.s == 5) {
        this.tooltip.s = 1;
      }
      if (this.tooltip.s == 0) {
        this.tooltip.s = 4;
      }

      this.setTooltip(true, "building", this.tooltip.s);
    },
    setTooltipCord(e) {
      //  var tlW = $(".wrap-tooltip").outerWidth();
      var tlH = $(".wrap-tooltip").outerHeight();
      this.tooltipCord = {
        left: e.clientX + 30 + "px",
        top: e.clientY - tlH / 2 + "px"
      };
      // console.log(e);
    },
    setTooltipFl(num) {
      //   console.log(num);
      let flats = this.$store.state.flats.filter(o => {
        return (
          o.section == +this.$route.params.fl &&
          o.floor == +num &&
          o.status_id == 2
        );
      });

      this.activeTooltip = true;
      this.tooltip = {
        floor: num,
        flats: flats.length,
        s: +this.$route.params.fl
      };
    },
    setTooltip(active, type, obj) {
      this.activeTooltip = active;

      let flats = [];
      let temp = this.tooltip;

      if (type == "genplan") {
        flats = this.$store.state.flats.filter(o => {
          return o.building == obj && o.status_id == 2;
        });
      }

      if (type == "building") {
        flats = this.$store.state.flats.filter(o => {
          return (
            o.building == this.$route.params.id &&
            o.section == obj &&
            o.status_id == 2
          );
        });
        temp.s = obj;
      }
      temp.flats = flats.length;
      this.tooltip = temp;
    },
    mousedown() {
      if (!this.imgLoad) return;
      this.touchTimeout = setTimeout(() => {
        this.draggable = true;
      }, 300);
    },
    mouseup() {
      if (!this.imgLoad) return;
      clearTimeout(this.touchTimeout);
      this.draggable = false;
      setTimeout(() => {
        this.setPosition();
      }, 400);
    },
    mousemove(event) {
      let dir = "left";
      if (!this.imgLoad) return;
      if (event.type == "mousewheel") {
        this.v360 = true;

        if (event.wheelDelta > 0 || event.detail < 0) {
          dir = "left";
        } else {
          dir = false;
        }
        if (this.type == "building") {
          if (!dir) {
            dir = "left";
          } else {
            dir = false;
          }
        }
        this.moveImg(dir);

        clearTimeout(this.wheeling);
        this.wheeling = setTimeout(() => {
          this.wheeling = undefined;
          this.setPosition();
        }, 450);

        return;
      } else {
        if (!this.draggable) return;
      }

      this.v360 = true;

      var index = Math.ceil(
        Math.abs(event.pageX - this.center_X) / this.movestop
      );
      if (index == this.last) {
        return;
      }
      this.last = index;

      if (!this.last2) {
        this.last2 = event.pageX;
      }
      setTimeout(() => {
        this.last2 = event.pageX;
      }, 20);

      if (event.pageX > this.last2) {
        dir = "left";
      } else {
        dir = false;
      }
      if (this.type == "building") {
        if (!dir) {
          dir = "left";
        } else {
          dir = false;
        }
      }
      this.moveImg(dir);
    },
    moveImg(dir) {
      //    console.log(dir);

      let $item = $(".list360 .item.active");
      if (!dir) {
        let $next = $item.next();
        if ($next.length == 0) {
          $next = $(".list360 .item:first-child");
        }
        $next
          .addClass("active")
          .siblings()
          .removeClass("active");
      } else {
        let $prev = $item.prev();
        if ($prev.length == 0) {
          $prev = $(".list360 .item:last-child");
        }
        $prev
          .addClass("active")
          .siblings()
          .removeClass("active");
      }
    },
    animMoveImg(steps, dir, num) {
      let counter = 0;
      let looper = setInterval(() => {
        counter++;
        this.moveImg(dir);
        if (counter >= steps) {
          clearInterval(looper);
          $('.list360 .item').removeClass('active');
          $('.list360 [data-index='+this.activeSlide2+']').addClass('active');
          //    console.log(this.activeSlide2);
        }
      }, this.timeFrame);
    },
    setPosition() {
      let index = $(".list360 .item.active").index() + 1;

      function d(a) {
        if (a == 0 || a > 0) return a;
        return -a;
      }
      //  console.log(index);
      let steps = 0;
      let dir = false;
      if (index > this.activeSlide2) {
        steps = index - this.activeSlide2;
        dir = "left";
      } else {
        steps = this.activeSlide2 - index;
      }

      for (let num of this.rk) {
        let max = num + 1;
        let min = num - 1;
        if (max > 24) {
          max = 24;
          min = 20;
        }
        if (min < 0) {
          min = 1;
          max = 4;
        }
        if (index >= min && index <= max) {
          steps = num - index;
          if (steps > 0) {
            dir = false;
          } else {
            steps = d(steps);
            dir = "left";
          }
          //    console.log(steps);
          this.activeSlide2 = num;
          break;
        }

        max = num + 2;
        min = num - 2;
        if (max > 24) {
          max = 24;
          min = 20;
        }
        if (min < 0) {
          min = 1;
          max = 4;
        }
        if (index >= min && index <= max) {
          steps = num - index;
          if (steps > 0) {
            dir = false;
          } else {
            steps = d(steps);
            dir = "left";
          }
          //    console.log(steps);
          this.activeSlide2 = num;
          break;
        }

        max = num + 3;
        min = num - 3;
        if (max > 24) {
          max = 24;
          min = 20;
        }
        if (min < 0) {
          min = 1;
          max = 4;
        }
        if (index >= min && index <= max) {
          steps = num - index;
          if (steps > 0) {
            dir = false;
          } else {
            steps = d(steps);
            dir = "left";
          }
          //    console.log(steps);
          this.activeSlide2 = num;
          break;
        }
      }

      this.animMoveImg(steps, dir);

      setTimeout(() => {
        this.v360 = false;
      }, this.timeFrame * steps);
    }
  }
};
</script>