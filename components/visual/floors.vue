<template>
  <div class="v-plan floors">
    <div class="rk active" v-if="$route.params.fl==4">
      <div class="img-plan">
        <img :src="$store.state.mainUrl+'assets/images/floors/1/23.jpg'" alt>
      </div>
      <div class="wrap-svg-floors">
        <svg viewBox="0 0 663.14 679.27" style="left: 41%;height: 46.3%;top: 47.4%;">
          <polygon
            data-fl="8"
            points="75.02 0.67 0.52 63.17 2.52 83.67 203.52 237.67 355.52 172.17 366.52 179.67 443.52 142.67 460.52 153.17 604.86 84.67 587.86 73.67 659.52 43 662.52 21.17 577.86 59 563.52 34.34 531.52 47.67 534.19 52.34 515.19 59.34 514.86 21.67 368.52 82.33 368.52 132.67 359.19 129 204.02 195.67 140.86 62.34 75.02 0.67"
          ></polygon>
          <polygon
            data-fl="7"
            points="654.52 108.67 582.86 137 599.86 147.67 456.86 217 439.52 204.34 365.19 238.34 354.86 230 205.52 297.67 6.52 142.34 4.52 84.67 203.52 237.67 355.52 172.17 366.52 179.67 443.52 142.67 460.52 153.17 604.86 84.67 587.86 73.67 659.52 43 654.52 108.67"
          ></polygon>
          <polygon
            data-fl="6"
            points="648.86 167 579.19 199 595.19 211.67 454.52 280 438.19 267.67 363.19 304 352.52 294 204.86 362.33 9.52 203.67 6.52 142.34 205.52 297.67 354.86 230 365.19 238.34 439.52 204.34 456.86 217 599.86 147.67 582.86 137 654.52 108.67 648.86 167"
          ></polygon>
          <polygon
            data-fl="5"
            points="644.52 230 573.86 257.33 591.19 270.33 451.52 342.67 434.86 331 361.19 360.33 351.19 351.67 205.86 417.33 12.52 263.33 9.52 203.67 204.86 362.33 352.52 294 363.19 304 438.19 267.67 454.52 280 595.19 211.67 579.19 199 648.86 167 644.52 230"
          ></polygon>
          <polygon
            data-fl="4"
            points="14.86 324.33 205.52 486 350.19 417 360.19 425 433.52 392 448.86 404 587.52 332.33 574.86 320.67 639.19 290 644.52 230 577.19 260.33 591.19 270.33 451.52 342.67 433.52 330.67 361.19 360.33 351.19 351.67 205.86 417.33 12.52 263.33 14.86 324.33"
          ></polygon>
          <polygon
            data-fl="3"
            points="17.86 383 206.19 545.34 345.19 482.33 357.52 488.67 432.19 452 446.52 462 583.86 390.67 569.86 376.67 634.19 346.33 639.19 290 574.86 320.67 587.52 332.33 448.86 404 433.52 392 360.19 425 350.19 417 205.52 486 14.86 324.33 17.86 383"
          ></polygon>
          <polygon
            data-fl="2"
            points="20.86 440 206.52 605 347.52 534.67 356.52 539.34 432.52 496.33 443.52 505.67 579.86 447.67 572.52 433.67 628.86 404.33 633.19 346.33 569.86 376.67 583.86 390.67 446.52 462 432.19 452 357.52 488.67 345.19 482.33 206.19 545.34 17.86 383 20.86 440"
          ></polygon>
          <!-- <polygon
            data-fl="1"
            points="24.19 512 207.02 678.67 623.19 472 628.86 404.33 572.52 433.67 579.86 447.67 443.52 505.67 432.52 496.33 356.52 540.34 347.52 534.67 206.52 605 20.86 440 24.19 512"
          ></polygon>-->
        </svg>
      </div>
    </div>

    <div class="rk active" v-if="$route.params.fl==3">
      <div class="img-plan">
        <img :src="$store.state.mainUrl+'assets/images/floors/1/18.jpg'" alt>
      </div>
      <div class="wrap-svg-floors">
        <svg viewBox="0 0 854.23 762.03" style="left: 34.8%;height: 52.9%;top: 42%;">
          <polygon
            data-fl="8"
            points="22.82 31.03 128.19 75.35 128.19 70.39 287.18 137.33 289.66 234.65 449.27 306.24 529.85 136.71 559.61 103.86 597.42 134.23 599.59 100.76 713.64 16.46 749.28 76.28 747.42 91.15 449.89 322.36 1.12 124 0.5 109.44 22.82 31.03"
          ></polygon>
          <polygon
            data-fl="7"
            points="4.64 184.76 449.64 383.76 848.31 66.76 853.64 1.09 450.64 315.09 0.64 117.76 4.64 184.76"
          ></polygon>
          <polygon
            data-fl="6"
            points="9.31 245.43 447.64 450.76 842.98 123.09 848.31 66.76 449.64 383.76 4.64 184.76 9.31 245.43"
          ></polygon>
          <polygon
            data-fl="5"
            points="13.64 304.43 446.98 509.76 837.64 180.76 842.98 123.09 447.64 450.76 9.31 245.43 13.64 304.43"
          ></polygon>
          <polygon
            data-fl="4"
            points="17.64 363.76 445.31 574.76 831.98 242.09 837.64 180.76 446.98 509.76 13.64 304.43 17.64 363.76"
          ></polygon>
          <polygon
            data-fl="3"
            points="21.31 420.43 444.31 630.43 827.31 295.76 831.98 242.09 445.31 574.76 17.64 363.76 21.31 420.43"
          ></polygon>
          <polygon
            data-fl="2"
            points="26.31 486.09 442.98 697.76 821.98 350.43 827.31 295.76 444.31 630.43 21.31 420.43 26.31 486.09"
          ></polygon>
          <!-- <polygon
            data-fl="1"
            points="30.31 546.76 441.31 761.43 815.98 420.09 821.98 350.43 442.98 697.76 26.31 486.09 30.31 546.76"
          ></polygon>-->
        </svg>
      </div>
    </div>

    <div class="rk active" v-if="$route.params.fl==2">
      <div class="img-plan">
        <img :src="$store.state.mainUrl+'assets/images/floors/1/11.jpg'" alt>
      </div>
      <div class="wrap-svg-floors">
        <svg viewBox="0 0 869.92 852.29" style="left: 31.65%;top: 35.6%;height: 58.3%;">
          <polygon
            data-fl="8"
            points="0.59 1.06 105.97 78.83 131.38 68.85 133.2 102.73 144.69 99.71 269.33 194.39 277.49 207.1 302.6 189.25 332.55 239.16 398.8 380.43 558.83 309.34 572.44 305.71 573.43 233.5 731.86 167.47 730.65 186.83 853.77 135.7 851.35 190.76 869.38 192.22 866.48 228.27 730.95 288.17 718.85 281.51 571.83 348.67 558.22 339.29 399.1 409.17 9.47 106.97 0.59 1.06"
          ></polygon>
          <polygon
            data-fl="7"
            points="400.01 471.49 557.62 404.94 569.72 412.8 861.64 278.19 866.48 228.27 730.95 288.17 718.85 281.51 571.83 348.67 558.22 339.29 399.1 409.17 9.47 106.97 15.82 174.43 400.01 471.49"
          ></polygon>
          <polygon
            data-fl="6"
            points="401.22 538.95 556.4 468.76 568.81 477.54 855.89 343.22 861.64 278.19 569.72 412.8 557.62 404.94 400.01 471.49 15.82 174.43 20.36 228.88 401.22 538.95"
          ></polygon>
          <polygon
            data-fl="5"
            points="401.52 599.75 555.2 528.06 566.99 535.62 850.75 401.61 855.89 343.22 568.81 477.54 556.4 468.76 401.22 538.95 20.36 228.88 25.2 285.75 401.52 599.75"
          ></polygon>
          <polygon
            data-fl="4"
            points="402.73 663.58 553.68 590.68 566.09 597.94 845.6 462.41 850.75 401.61 566.99 535.62 555.2 528.06 401.52 599.75 25.2 285.75 30.34 342.32 402.73 663.58"
          ></polygon>
          <polygon
            data-fl="3"
            points="403.94 718.33 553.38 648.46 565.78 655.11 841.07 516.86 845.6 462.41 566.09 597.94 553.68 590.68 402.73 663.58 30.34 342.32 35.79 403.12 403.94 718.33"
          ></polygon>
          <polygon
            data-fl="2"
            points="404.55 778.23 551.57 707.14 563.97 718.64 835.32 580.39 841.07 516.86 565.78 655.11 553.38 648.46 403.94 718.33 35.79 403.12 40.63 458.48 404.55 778.23"
          ></polygon>
          <!-- <polygon
            data-fl="1"
            points="46.32 523.1 406.7 851.69 550.03 780.35 564.03 792.35 828.7 648.35 835.32 580.39 563.97 718.64 551.57 707.14 404.55 778.23 40.63 458.48 46.32 523.1"
          ></polygon>-->
        </svg>
      </div>
    </div>

    <div class="rk active" v-if="$route.params.fl==1">
      <div class="img-plan">
        <img :src="$store.state.mainUrl+'assets/images/floors/1/6.jpg'" alt>
      </div>
      <div class="wrap-svg-floors">
        <svg viewBox="0 0 735.51 706.82" style="height: 49%;left: 30.5%;top: 45.2%;">
          <polygon
            data-fl="8"
            points="663 11.71 735 72.71 733.5 113.71 533.5 265.71 201 108.21 190 114.21 99 71.71 73 86.71 0.5 51.71 0.5 30.21 25 13.71 189 88.71 200 70.71 185.5 58.71 180.5 0.71 387.5 67.21 388.5 146.71 373 143.71 364 167.21 534 240.71 629.5 41.21 663 11.71"
          ></polygon>
          <polygon
            data-fl="7"
            points="533.33 327.71 731 170.04 733.5 113.71 533.5 265.71 201 108.21 190 114.21 99 71.71 73 86.71 2.33 52.71 8.33 119.71 78 151.71 105 134.71 194.33 174.04 205.33 165.37 533.33 327.71"
          ></polygon>
          <polygon
            data-fl="6"
            points="532.33 393.37 727.67 236.37 731 170.04 533.33 327.71 205.33 165.37 194.33 174.04 105 134.71 78 151.71 8.33 119.71 14.67 181.04 82.67 214.04 109 196.37 198 238.37 208.33 231.04 532.33 393.37"
          ></polygon>
          <polygon
            data-fl="5"
            points="532.33 452.37 725.33 295.04 727.67 236.37 532.33 393.37 208.33 231.04 198 238.37 109 196.37 82.67 214.04 14.67 181.04 20.67 241.37 87.67 272.71 114.33 254.71 201.33 299.04 212.67 291.71 532.33 452.37"
          ></polygon>
          <polygon
            data-fl="4"
            points="532.33 517.71 723 356.37 725.33 295.04 532.33 452.37 212.67 291.71 201.33 299.04 114.33 254.71 87.67 272.71 20.67 241.37 26 299.04 93 331.71 118.67 313.37 205.67 357.37 215.67 350.37 532.33 517.71"
          ></polygon>
          <polygon
            data-fl="3"
            points="531.67 571.37 720.67 412.71 723 356.37 532.33 517.71 215.67 350.37 205.67 357.37 118.67 313.37 93 331.71 26 299.04 31 356.04 97.67 389.04 123 370.71 209.33 416.04 219 409.37 531.67 571.37"
          ></polygon>
          <polygon
            data-fl="2"
            points="532.33 632.04 718 466.04 720.67 412.71 531.67 571.37 219 409.37 209.33 416.04 123 370.71 97.67 389.04 31 356.04 37 412.37 102.5 447.71 128 428.04 212.33 467.71 221 461.04 532.33 632.04"
          ></polygon>
          <!-- <polygon
            data-fl="1"
            points="531.5 706.21 715 537.71 718 466.04 532.33 632.04 221 461.04 212.33 467.71 128 428.04 102.5 447.71 62.33 426.04 66.33 460.71 216.33 539.37 224.67 533.04 531.5 706.21"
          ></polygon>-->
        </svg>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  mounted() {
    //    console.log(this.$route.params);
    $(".wrap-svg-floors svg > *:last-child").addClass("active");
    if (window.innerWidth < 1200) {
      setTimeout(() => {
        this.$emit("floor", $(".wrap-svg-floors svg .active").data("fl"));
      }, 2000);
    } else {
      $(document).on("mouseover", "[data-fl]", this.hover);
      $(document).on("mouseleave", "[data-fl]", this.hide);
      $(document).on("click", "[data-fl]", this.link);
    }
    if (window.innerWidth < 800) {
      $(".visual-wrap").scrollLeft(250);
    }
  },
  beforeDestroy() {
    $(document).off("mouseover", "[data-fl]", this.hover);
    $(document).off("mouseleave", "[data-fl]", this.hide);
    $(document).off("click", "[data-fl]", this.link);
  },
  methods: {
    hover(e) {
      let num = $(e.target).data("fl");
      this.$emit("floor", num);
    },
    hide() {
      this.$emit("activeTooltip");
    },
    link(item) {
      let fl = $(item.target).data("fl");
      // console.log(fl);
      // return;
      this.$router.push({
        path:
          this.$i18n.path("") +
          "building/" +
          this.$route.params.bl +
          "/" +
          this.$route.params.fl +
          "/floor/" +
          fl
      });
    }
  }
};
</script>

<style>
</style>
